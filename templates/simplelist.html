<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
   "http://www.w3.org/TR/html4/strict.dtd">
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Active Category Learning Mechanical Turk List</title>
    <meta name="generator" content="TextMate http://macromates.com/">
    <meta name="author" content="Todd Gureckis">
    <link rel="stylesheet" href="/static/stylelist.css">
    <script src="/static/lib/jquery-min.js" type="text/javascript"></script>
    <script language="JavaScript">
    <!-- Hide the script from old browsers --
    
    $(document).ready(function() {
        $(".editable_select_status").editable("/updatestatus/", { 
          indicator : "<img src='/static/images/indicator.gif'>",
          data   : "{1:'ALLOCATED', 2:'STARTED', 3:'COMPLETED', 4:'DEBRIEFED', 5:'CREDITED'}",
          type   : "select",
          submit : "OK",
          style  : "inherit",
          callback: function(value, settings) {
              window.location.reload();
          }
        });
    });
    
    //-->
    </script>
    <!-- Date: 2011-12-13 -->
</head>
<body>
    <h1><font face="helvetica">Active Category Learning Mechanical Turk Participants</font></h1>
	<br>
	<small>{{ records | length }} found</small>
	<table class="sofT" cellspacing="0">
	<tr>
		<td class="helpHed"><b>Subj #</b></td>
		<td class="helpHed"><b>HitID</b></td>
		<td class="helpHed"><b>AssignmentID</b></td>
		<td class="helpHed"><b>WorkerID</b></td>
		<td class="helpHed"><b>IP</b></td>
		<td class="helpHed"><b>Condition</b></td>
		<td class="helpHed" width="25%"><b>Begin Hit</b></td>
		<td class="helpHed" width="25%"><b>Begin Exp</b></td>
		<td class="helpHed" width="25%"><b>End Hit</b></td>
		<td class="helpHed" width="15%"><b>Status</b></td>
		<td class="helpHed" width="40%"><b>DataFile</b></td>
	</tr>
	{% for rec in records %}
	<tr>
		<td valign="top" {{ loop.cycle('', 'class=even') }}>
		    <font size="+2" color="#aaa" face="helvetica">{{ rec['assignmentid'] }}</font></td>
		<td {{ loop.cycle('', 'class=even') }}>
		    {{ rec['hitid'] }}
		</td>
		<td {{ loop.cycle('', 'class=even') }}>
            {{ rec['workerid'] }}
		</td>
		<td {{ loop.cycle('', 'class=even') }}>
            {{ rec['ipaddress'] }}
		</td>
		<td {{ loop.cycle('', 'class=even') }}>
            {{ rec['condition'] }}
        </td>
		<td {{ loop.cycle('', 'class=even') }}>
            {{ rec['beginhit'] }}
        </td>
		<td {{ loop.cycle('', 'class=even') }}>
            {{ rec['beginexp'] }}
        </td>
		<td {{ loop.cycle('', 'class=even') }}>
            {{ rec['endhit'] }}
        </td>
		<td {{ loop.cycle('', 'class=even') }}>
            <small class="editable_select_status" id="applicants_status_{{ rec['assignmentid'] }}">
		      {% if rec['status'] == 1 %}
		        ALLOCATED
		      {% elif rec['status'] == 2 %}
		        STARTED
		      {% elif rec['status'] == 3 %}
		        COMPLETED
		      {% elif rec['status'] == 4 %}
				DEBRIEFED
		      {% elif rec['status'] == 5 %}
		        CREDITED
		      {% else %}
		        ERROR
		      {% endif %}
		    </small>
        </td>
		<td {{ loop.cycle('', 'class=even') }}>
            {{ rec['datafile'] }}
        </td>
	</tr>
	{% endfor %}	
	</table>
</body>
</html>
